import{u as n}from"./page-container-CooLEeSj.js";import{u as i,i as a,s as u}from"./index-BRLjwUl5.js";import{u as f}from"./useMutation-BnaJWjYm.js";function p(){const{user:e}=i();return n({queryKey:["profile",e?.id],queryFn:async()=>{if(!e)return null;const{data:t,error:r}=await u.from("profiles").select("*, offices(*)").eq("id",e.id).single();if(r)throw r;return t},enabled:!!e})}function y(){const{user:e}=i(),t=a();return f({mutationFn:async r=>{if(!e)throw new Error("Not authenticated");const{data:o,error:s}=await u.from("profiles").update(r).eq("id",e.id).select().single();if(s)throw s;return o},onSuccess:()=>{t.invalidateQueries({queryKey:["profile"]})}})}export{y as a,p as u};
